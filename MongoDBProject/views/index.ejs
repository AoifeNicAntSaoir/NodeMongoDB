<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MongoDB CRUD</title>
</head>
<style>
table, th, td {
    border: 1px solid black;
}

#table1 table, #table1 th, #table1 td {
	border: 0px;
	}
</style>
<body>
	<h1>Reading flight Details</h1>
	 <table class="flightDetails">
		<tr>
			<th>Passport Number</th>
			<th>First Name</th> 
			<th>Last Name</th>
			<th>Depart Airport</th>
			<th>Depart Date</th>
			<th>Depart Time</th>
			<th>Arrival Airport</th>
			<th>Arrival Date</th>
			<th>Arrival Time</th>
			<th>Fare â‚¬</th>
		</tr>
		<!--Goes through array from get method in server.js and puts each one in the table !-->
	  <% for(var i=0; i<flightDetails.length; i++) {%>
		<tr class="flightDetails">
		  <td><%= flightDetails[i].passportNo %></td>
		  <td><%= flightDetails[i].firstName %></td>
		  <td><%= flightDetails[i].lastName %></td>
		  <td><%= flightDetails[i].depAirport %></td>
		  <td><%= flightDetails[i].depDate %></td>
		  <td><%= flightDetails[i].depTime %></td>
		  <td><%= flightDetails[i].arrAirport %></td>
		  <td><%= flightDetails[i].arrDate %></td>
		  <td><%= flightDetails[i].arrTime %></td>
		  <td><%= flightDetails[i].fare %></td>
		</tr>
	  <% } %>
		</table>

	<h1>Create new flight details</h1>
      <form method="post" action="/flightDetails">
	   <table id="table1"; cellspacing="5px" cellpadding="5%"; align="center" style="border: none;">
	   <tr>
            <td>	<label>Passport Number</label>	</td>
			<td>	<input type="text" name="passportNo" required>	</td>
		</tr>
		</tr> 
            <td>	<label>First Name:</label>	</td>
			<td>	<input type="text" name="firstName" required></td>
		</tr>
		</tr> 
            <td>	<label>Surname:</label>	</td>
			<td>	<input type="text" name="lastName" required></td>
		</tr>
		<tr>
			<td>	<label>Nationality:</label> 	</td>
			<td>	<input type="text" name="nationality" required> 	</td>
		</tr>
		<tr>
			<td>	<label>Date Of Birth:</label> 	</td>
			<td>	<input type="date" name="dateOfBirth" required> 	</td>
		</tr>
		<tr>
			<td>	<label>Place Of Birth:</label>	</td>
			<td>	<input type="text" name="placeOfBirth" required>	</td>
		</tr>
		<tr>
			<td>	<label>Passport Date of Issue:</label> 	</td>
			<td>	<input type="date" name="dateOfIssue" required> 	</td>
		</tr>
		<tr>
			<td>	<label>Passport Date of Expiry:</label> </td>
			<td>	<input type="date" name="dateOfExpiry"  required> </td>
		</tr>
		<tr>
			<td> 	<label>Flight No:</label> </td>
			<td> 	<input type="text" name="flightNo" required> </td>
		</tr>
		<tr>
			<td>	<label>Departure Detils:</label>	</td>
			<td>	<input type="text" name="depAirport" placeholder="Departing Airport" required> 	</td>
			<td>	<input type="date" name="depDate" required> </td>
			<td>	<input type="time" name="depTime" required> </td>
		</tr>
		<tr>
			<td>	<label>Arrival Details:</label> </td>
			<td>	<input type="text" name="arrAirport" placeholder="Arriving Airport" required> 	</td>
			<td>	<input type="date" name="arrDate" required> 	</td>
			<td>	<input type="time" name="arrTime" required> 	</td>
		</tr>
		<tr>
			<td>	<label>Seat Number:</label> 	</td>
			<td> 	<input type="text" name="seatNo" required> </td>
		</tr>
		<tr>
			<td>	<label>Quanity of Baggage:</label> </td>
			<td>	<input type="number" name="baggage" required> </td>
		</tr>
		<tr>
			<td>	<label>Fare:</label> </td>
			<td>	<input type="text" name="fare" required> </td>
		</tr>
		<tr>
            <td><input type="submit"></td>
		</tr>
		</table>
			
		</form>	
		
		<div>
	<!--Enter passport no of document you wish to update
		Select field you want to update ie. passport no firstName, lastName, depAirport, arrAirport or fare
		enter update value
		press update button
		The event of clicking the button is handled in public/main.js and then passed to /server.js where the document is updated
	!-->
    <h2>Update specified field</h2>
	Enter passportNo to update: <input type="text" id="oldNo" required>
	<label>Enter new passportNo</label>
	<input type="text" id="newNo" required>
    <button id="update">Update </button>
  </div>
	<!--Delete document by passportNo !
		The event of clicking the button is handled in public/main.js and then passed to /server.js
		where the document is then deleted-->
  <div>
    <h2>Delete customer's details by passportNo</h2>
	<p> Read the table above of all documents to pick a specic passportNo</p>
	<input type="text" id="nameToDelete" placeholder="Passport No" required>
    <button id="delete"> Delete passportNo </button>
  </div>

  <script src="main.js"></script>
</body>
</html>